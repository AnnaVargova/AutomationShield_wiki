
#### Contents
[Introduction](#introduction)<br/>
[Hardware](#hardware)<br/>
&nbsp;&nbsp;&nbsp;[3D shield casing](#3d-shield-casing)<br/>
&nbsp;&nbsp;&nbsp;[Printed circuit board](#printed-circuit-board)<br/>
&nbsp;&nbsp;&nbsp;[Circuit design](#circuit-design)<br/>
[List of components](#list-of-components)<br/>
[Credits](#credits)<br/>


![alt text](https://github.com/adam-p/markdown-here/raw/master/src/common/images/icon48.png "Logo Title Text 1") 
![alt text](https://github.com/adam-p/markdown-here/raw/master/src/common/images/icon48.png "Logo Title Text 1") 
![alt text](https://github.com/adam-p/markdown-here/raw/master/src/common/images/icon48.png "Logo Title Text 1") 

# Introduction
The ThermoMetric Shield belongs to the family of control engineering education devices for Arduino that form a part of the [AutomationShield](https://github.com/gergelytakacs/AutomationShield/wiki) project. The Thermo-Shield for arduino allows a board to acquire environmental data collected by an array of sensors. These sensors consist of thermocouple, IR sensor, digital thermometer, analog temperature sensor and resistance temperature detector. This shield relies on the MAX6675 thermocouple digital interface and allows a board to acquire temperatures from a thermocouple of type K and DS18B20 - a digital OneWire protocol-based sensor.

# Hardware

## 3D shield casing 
A 3D visualization of the Thermo-Shield was designed using [Fusion 360](https://www.autodesk.com/products/fusion-360/overview), a cloud-based 3D CAD/CAM freeware. The purpose of the casing is to create an environment for air temperature homogenization. 

When in heating mode, the homogenous temperature in the box is achieved through circulation of air heated by TF70 12V heating module with a heat sink and driven by MF35 12V fan. In the cooling mode, the cooling effect is generated by a Peltier module with a radiator and the inner temperature is similarly homogenized with the fan. The box also contains a par of vents near the bottom in order to ensure proper air circulation.

All the aforementioned temperature sensors are located in the middle portion of the casing. They are in close proximity to each other to ensure equal temperature distribution among all the devices. As the Thermo-Shield is meant to be used as reference for measurement, it is crucial for all the sensors to have optimal i.e. equal temperature conditions.

Several additional design elements were incorporated into the box to ensure the protection of   both the PCB and the components of the external energy sources from the potentially harmful conditions inside the casing. 

Last but not least, as for the issue of future maintenance, the modular construction of the device allows for the ease of repair or parts replacement if necessary. Fusion 360 design in F3Z format can be downloaded [here](https://github.com/gergelytakacs/AutomationShield/wiki/file/Thermo/Complet-assemblery_v12.rar) and STEP format [here](https://github.com/gergelytakacs/AutomationShield/wiki/file/Thermo/Complet-3D_model_ThermoShield_assemblery_v12.rar).

![alt text](https://github.com/gergelytakacs/AutomationShield/wiki/fig/3D_model_ThermoMetricShield.png "3D model") 

## Printed circuit board
The printed circuit board (PCB)  has been designed in the freeware version of the [DIPTrace](https://diptrace.com/) CAD software. The PCB is a two-layer design and it fits within the common 100x100 mm dimensions limit of most PCB  manufacturers.  The DIPTrace PCB layout and circuit schematics can be downloaded [here](https://github.com/gergelytakacs/AutomationShield/wiki/file/Thermo/ThermoShield_PCB2.3.rar).

![alt text](https://github.com/gergelytakacs/AutomationShield/wiki/fig/ThermoShield_Top_PCB.png "PCB") 
![alt text](https://github.com/gergelytakacs/AutomationShield/wiki/fig/ThermoShield_Bottom_PCB.png "PCB") 

## Circuit design
The circuit schematics has been designed in the [DIPTrace](https://diptrace.com/) CAD software. You may download the circuit schematics for ThermoMetric Shield from the following link - [here](https://github.com/gergelytakacs/AutomationShield/wiki/file/Thermo/ThermoShield_Circuit_v2.rar).

The power circuitry is controlled by BTS117 metal-oxide semiconductor field-effect transistor (MOSFET) which is connected to the PWM-capable D3 pin of the Arduino MCU. A parallel connected resistor (R5) protects the Peltier cell while a resistor parallel to the ground (R6) prevents the heater from accidentally switching off due to electrical floating state in case of a malfunction.

Common temperatures used to melt plastics in 3D printing process are about 200°C and may reach as high as 245°C for polycarbonate filaments. To make the experiment safer for general classroom use the maximal temperature of the TF70 heating block is limited to safe levels by an adjustable voltage regulator which uses the external 12V input through PJ002A jack.

Temperature feedback is received from a negative temperature coefficient (NTC) BT2 thermistor connected to the A0 analog input pin of the Arduino MCU in a voltage divider circuit paired with a resistor (R1).


![alt text](https://github.com/gergelytakacs/AutomationShield/wiki/fig/ThermoShield_circuit_v2.bmp "Electric schematic layout") 


# List of components

| Component     | Price         | Quantity | 
| ------------- |:-------------:| :-----:|    
| [Thermoelectric cooling TES1-127021](https://www.conrad.sk/peltierov-clanok-tru-components-tes1-127021-15-4-v-dc-2-1-a-18-1-w.k1569028) | 11.93€ | 1x | 
| [Heatsinks V4330K](https://www.gme.sk/v4330k) | 1.77€      |   3x |   
| [Fan MF35101V1-10000-A99](https://www.gme.sk/mf35101v1-10000-a99) | 4.69€      |    2x |   
| [Heat conducting paste SIL.SE307](https://www.gme.sk/teplovodiva-pasta-sil-se307-white-5g) | 2.72€ | 1x |
| [Heater TF70 12V/20W](https://www.hudiny.sk/12v-20w-mini-ploche-vyhrevne-teleso-26x38mm.html) | 14.99€ | 1x |
| [Power supply 12V 2500mA](https://www.gme.sk/napajeci-adapter-sitovy-12v-2500ma-5-5-2-1mm-b-vigan) | 9.80€ | 1x |
| [HITFET BTS117](https://www.gme.sk/unipolarni-tranzistor-bts117-to220) | 2.21€ | 3x |
| [POLYSWITCH MINISMDC260F/12-2](https://www.gme.sk/data/attachments/dsh.971-104.1.pdf?fbclid=IwAR2XCeQMRJ6E1nTB-POiPNjpQH9O5dZrGphu8UEnzKhEDBMe8AqhbxEkYu4) | 0.35€ | 1x |
| [DS18B20 - Digital Thermometer](https://www.gme.sk/ds18b20) | 1.61€ | 1x |
| [Digital Temperature Sensor MCP9808-E/MS](https://www.distrelec.sk/sk/snimac-teploty-microchip-mcp9808-ms/p/17336047) | 1.09€ | 1x |
| [TMP36GT9Z - Temperature Sensor (Analog)](https://www.gme.sk/tmp36gt9z) | 1.38€ | 1x |
| [Resistor ROYAL OHM 0805S8J0103T5E](https://www.tme.eu/sk/details/smd0805-10k/rezistory-smd-0805/royal-ohm/0805s8j0103t5e/) | 0.0014€ | 7x |
| [Resistor 0805S8J0151T5E ROYAL OHM](https://www.tme.eu/en/details/smd0805-150r/0805-smd-resistors/royal-ohm/0805s8j0151t5e/?fbclid=IwAR10SZLhT9_DlJ-FDn4JOFtryoGDHu_RrzwjALbh3AtT8X8smtctU_kHhfg) | 0.12€ | 3x |
| PCB | 0.10€ | 1x |
| [Capacitor 0.1 uF](https://www.sparkfun.com/products/8375) | 0.02€ | 1x |
| [Capacitor 1 uF](https://sk.farnell.com/panasonic/ecqv1h105jl/capacitor-film-50v-1uf/dp/1744833) | 0.05€ | 1x |
| [PJ-002A Jack](https://www.mouser.sk/ProductDetail/CUI-Devices/PJ-002A?qs=WyjlAZoYn51CKfAix9Mngw==) | 0.22€ | 1x |
| [Thermocouple MAX6675](https://www.ebay.com/itm/MAX6675-Module-K-Type-Thermocouple-Temperature-Sensor-for-Arduino-AL-/400798924042) | 7.80€ | 1x |
| [Diode ES1D 1A](https://www.gme.sk/dioda-es1d) | 0.11€ | 4x |
| [Diode ES3D 3A](https://www.tme.eu/sk/details/es3d-yan/univerzalne-diody-smd/yangjie-technology/es3d/?fbclid=IwAR3-66EtcFbKoM1b2Qv_UP4_X5Gvzgy_3Sf7rleeNVvX5_a2I9k7n0CJaVE) | 0.14€ | 1x |
| [Thermistor NTC B57164K0101](https://www.gme.sk/termistor-ntc-b57164k0101) | 0.51€ | 1x |
| **Total amount:** | **87.79€** | 

## Software
### Installation:
```
git clone https://github.com/TermoShield
```
or download the zip.

# Credits
### List personnel
**Hardware design:** Marek Horník, Michal Masaryk, Michal Vico, Marek Noga, Martin Žlnay

**3D model design:** Peter Fábry, Marek Sulír 

**Wiki:** Daniel Fazekas, Martin Žlnay, Erik Mikuláš and Gergely Takács
 

 


